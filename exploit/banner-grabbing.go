package main

import (
    "fmt"
    "net"
    "os"
)

func main() {
    if len(os.Args) != 3 {
        fmt.Println("Usage: go run banner-grabbing.go <host> <port>")
        os.Exit(1)
    }

    host := os.Args[1]
    port := os.Args[2]

    conn, err := net.Dial("tcp", host+":"+port)
    if err != nil {
        fmt.Println("Error connecting to", host+":"+port, ":", err)
        os.Exit(1)
    }

    defer conn.Close()

    _, err = conn.Write([]byte("\r\n"))
    if err != nil {
        fmt.Println("Error sending request to", host+":"+port, ":", err)
        os.Exit(1)
    }

    buffer := make([]byte, 4096)
    n, err := conn.Read(buffer)
    if err != nil {
        fmt.Println("Error reading response from", host+":"+port, ":", err)
        os.Exit(1)
    }

    fmt.Println(string(buffer[:n]))
}
